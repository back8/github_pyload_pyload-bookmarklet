javascript:"use strict";(function(A,B,C,u){function x(){var c=d.document.getElementById("searchInput").value;if(c)var e="<h4>Filtered links: &quot;"+c+"&quot;</h4>";else c="",e="<h4>Links:</h4>";c=c.toLocaleLowerCase();e+='<div id="container" class="form-group form-check text-nowrap"><input type="checkbox" id="checkall" class="form-check-input"><label for="checkall">All</label><div class="form-check">';for(var b=0;b<k.length;b++)if(-1!==k[b].href.toLocaleLowerCase().indexOf(c)||-1!==k[b].name.toLocaleLowerCase().indexOf(c))e+='<div class="form-check"><input class="form-check-input" type="checkbox"'+(m[b]?" checked":"")+' id="link'+b+'"><label class="form-check-label small" for="link'+b+'">'+(k[b].name?'<span class="badge badge-warning">'+k[b].name+"</span>&nbsp;":"")+'<a href="'+k[b].href+'">'+k[b].href+"</a></label></div>";d.document.getElementById("divLinks").innerHTML=e+"</div></div>"}function v(c,e){var b=d.document.getElementById("link"+c);b&&(b.checked=e);n+=(m[c]===e?0:1)*(e?1:-1);m[c]=e;b=d.document.getElementById("checkall");b.checked=0<n;b.indeterminate=0<n&&n<m.length}function w(){var c=0===n&&!d.document.getElementById("checkurl").checked;d.document.getElementById("toClipboard").disabled=c;d.document.getElementById("toPyload").disabled=c||0===d.document.getElementById("packagename").value.length}function D(){var c=[],e=d.document.getElementById("packagename").value,b=d.document.getElementById("serveraddr").value;d.document.getElementById("checkurl").checked&&c.push(r);for(var a=0;a<m.length;a++)m[a]&&c.push(k[a].href);if(1===u)var h=y(b+"/flash/add",{name:e,urls:c.join("\n")});else 2===u?h=window.open(b+'/api/addPackage?name="'+e+'"&links='+encodeURIComponent(JSON.stringify(c)),"","resizable=no, location=no, width=100, height=100, menubar=no, status=no, scrollbars=no, menubar=no"):3===u&&(JSON.stringify(c),h=y(b+"/api/addPackage",{name:JSON.stringify(e),links:JSON.stringify(c),a:B,p:C}));setTimeout(function(){h.close()},1E3);d.close()}function y(c,e){var b=document.createElement("form");b.style.display="none";b.target="_Pyload";b.method="POST";b.action=c;for(var a in e)if(e.hasOwnProperty(a)){var h=document.createElement("input");h.type="text";h.name=a;h.value=e[a];b.appendChild(h)}d.document.body.appendChild(b);h=d.open("","_Pyload","resizable=no, location=no, width=100, height=100, menubar=no, status=no, scrollbars=no, menubar=no");b.submit();return h}var p=window;var d=window.open("","_blank","width=800,height=600,scrollbars,resizable,menubar");d.moveTo(0,0);d.resizeTo(screen.availWidth,screen.availHeight);var k=function(){for(var c=[],e={},b=0;b<p.document.links.length;b++){var a=p.document.links[b];a.href.match(/^(?:mailto:|javascript:|data:)/)||e[a.href]||(e[a.href]=!0,c.push({href:a.href,name:a.text.replace(/(<([^>]+)>)/ig,"").trim()}))}return c}();var m=Array.apply(null,Array(k.length)).map(Boolean.prototype.valueOf,!1);var n=0;var E=function(){for(var c=[],e=p.document.links.length-1,b;b=p.document.links[e];e--)b.href.match(/^(?:mailto:|javascript:|data:)/)||(b=b.hostname.match(/[^.]+\.(?:\w{3,}|\w{2,3}\.\w{2})$/),null!==b&&0>c.indexOf(b[0].toLowerCase())&&c.push(b[0].toLowerCase()));return c}();var r=p.document.URL;(function(){var c=document.createElement("link");c.setAttribute("href","https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css");c.setAttribute("rel","stylesheet");d.document.head.appendChild(c);c=document.createElement("div");var e=document.createElement("div");e.innerHTML="<h4>Package Name:</h4>";var b=document.createElement("div");b.setAttribute("class","input-group");var a=document.createElement("input");a.setAttribute("id","packagename");a.setAttribute("type","text");a.setAttribute("size","70");a.setAttribute("class","form-control form-control-sm");a.setAttribute("value",p.document.title);a.setAttribute("placeholder","Package Name");a.oninput=function(){w()};b.appendChild(a);var h=document.createElement("div");h.setAttribute("class","input-group-append");a=document.createElement("button");a.setAttribute("id","toPyload");a.setAttribute("disabled","");a.setAttribute("class","btn btn-primary btn-sm");a.setAttribute("style","margin-left: 5px; border-radius: .25rem;");a.innerHTML="Send to pyLoad";a.onclick=function(){D()};h.appendChild(a);a=document.createElement("button");a.setAttribute("id","toClipboard");a.setAttribute("disabled","");a.setAttribute("class","btn btn-secondary btn-sm");a.setAttribute("style","margin-left: 5px; border-radius: .25rem;");a.innerHTML="&#128203;";a.setAttribute("title","Copy links to clipboard");a.onclick=function(){for(var g=d.document.getElementById("checkurl").checked?[r]:[],f=0;f<m.length;f++)m[f]&&g.push(k[f].href);f=document.createElement("textarea");f.style.fontSize="12pt";f.style.border="0";f.style.padding="0";f.style.margin="0";f.style.position="absolute";f.style.left="-9999px";f.style.top=(d.pageYOffset||d.document.documentElement.scrollTop)+"px";f.setAttribute("readonly","");f.value=g.join("\n");d.document.body.appendChild(f);f.select();try{var q=d.document.execCommand("copy");d.alert("Copy "+(q?"successful":"unsuccessful"))}catch(t){d.alert("Oops, unable to copy"+t)}d.document.body.removeChild(f)};h.appendChild(a);a=document.createElement("button");a.setAttribute("id","configtoggle");a.setAttribute("class","btn btn-secondary btn-sm");a.setAttribute("style","margin-left: 5px; border-radius: .25rem;");a.innerHTML="&#9881;";a.onclick=function(){var g=d.document.getElementById("config");g.style.display="block"===g.style.display?"none":"block"};h.appendChild(a);b.appendChild(h);e.appendChild(b);c.appendChild(e);a=document.createElement("fieldset");a.setAttribute("id","config");a.style.display="none";e=(e="undefined"!==typeof d.Storage?d.localStorage.getItem("pyloadServer"):"")||A;a.innerHTML="<h5>Configuration</h5><label for='serveraddr'>pyLoad's address:</label><div class='input-group'><input type='text' class='form-control form-control-sm' id='serveraddr' placeholder='scheme://address:port' value='"+e+"' /><div class='input-group-append'><button id='save-config' class='btn btn-danger btn-sm'>Save</button></div></div>";a.querySelector("#save-config").onclick=function(){var g=d.document.getElementById("serveraddr").value;0<g.length&&(d.localStorage.setItem("pyloadServer",g),d.alert('Saved for domain "'+window.top.location.hostname+'"'))};c.appendChild(a);e=document.createElement("div");e.innerHTML='<hr style="color:lightgrey;"><h4>Page URL:</h4><div class="form-group form-check"><input type="checkbox" class="form-check-input" id="checkurl"><label for="checkurl"><a href="'+r+'">'+r+'</a></label></div><hr style="color:lightgrey;">';b=document.createElement("div");b.innerHTML='<fieldset class="form-inline"><input id="searchInput" type="text" class="form-control form-control-sm mr-2" placeholder="Filter links..." style="width: 60%;" /><select id="selectDomain" class="form-control form-control-sm"><option>Or check domain...</option></select></fieldset>';var F=b.querySelector("#selectDomain");E.forEach(function(g){var f=document.createElement("option");f.text=g;f.onclick=function(){var q=[],t=!1;var l=d.document.getElementById("selectDomain").value;if(""!==l){var G=new RegExp("(?://|\\.)"+l.replace(".","\\.")+"(?:[?/]|$)","i");for(l=0;l<k.length;l++){var z=k[l].href.match(/:\/\/[^/?]+(?:[?/]|$)/g);z&&z[0].match(G)&&(q.push(l),!1===m[l]&&(t=!0))}for(l=0;l<q.length;l++)v(q[l],t);w()}};F.appendChild(f)});a=document.createElement("div");a.setAttribute("id","divLinks");h=document.createElement("div");h.setAttribute("class","container-fluid");h.appendChild(c);h.appendChild(e);h.appendChild(b);h.appendChild(a);d.document.body.appendChild(h);d.document.title="Send to pyLoad";d.document.getElementById("searchInput").oninput=function(){x()};d.document.addEventListener("click",function(g){if(g.target&&"checkbox"===g.target.type){if(0===g.target.id.indexOf("link")){var f=parseInt(g.target.id.replace("link",""),10);v(f,g.target.checked)}else if("checkall"===g.target.id)for(f=n<m.length,g.target.checked=f,g.target.indeterminate=!1,g=0;g<k.length;g++)v(g,f);w()}else"A"===g.target.nodeName&&g.preventDefault()});x()})()})
("http://localhost:9666","username","password",1);